create view traceability as

select Trace.Trace.logs,
       Trace.Log.*,
       Java.ClassDeclaration[name,package],
       Java.Package.name,
       UML.Component.name,
       ReqIf.ReqIF.coreContent,
       ReqIf.ReqIFContent.specObjects,
       ReqIf.SpecObject.values,
       ReqIf.AttributeValueString.theValue,
       Trace.Log join Java.ClassDeclaration as javaClass,
       Java.Package join UML.Component as component,
       UML.Component join ReqIf.SpecObject as requirements

from 'http://www.omg.org/spec/ReqIF/20110401/reqif.xsd' as ReqIf,
     'http://www.eclipse.org/uml2/5.0.0/UML' as UML,
     'http://www.eclipse.org/MoDisco/Java/0.2.incubation/java' as Java,
     'http://trace' as Trace

where "s.source.split('\\.')[0] = t.name"
      for javaClass,
      s.name = t.name.toLowerCase()
      for component,
      's.name.toLowerCase().isSubstringOf(t.values[0].theValue.toLowerCase())'
      for requirements
      